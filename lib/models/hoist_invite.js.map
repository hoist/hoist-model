{"version":3,"sources":["models/hoist_invite.js"],"names":[],"mappings":"AAAA;;AACA,IAAI,WAAW,QAAQ,UAAR,CAAX;AACJ,IAAI,UAAU,QAAQ,yBAAR,CAAV;AACJ,IAAI,aAAa,QAAQ,oBAAR,CAAb;AACJ,IAAI,YAAY,QAAQ,UAAR,CAAZ;AACJ,IAAI,SAAS,SAAS,MAAT;AACb,IAAI,iBAAiB,QAAQ,wBAAR,CAAjB;AACJ,IAAI,SAAS,QAAQ,cAAR,CAAT;;AAEJ,IAAI,oBAAoB,IAAI,MAAJ,CAAW;AACjC,iBAAe,MAAf;AACA,OAAK;AACH,UAAM,OAAN;AACA,UAAM,EAAN;AACA,aAAS,CAAT;AACA,SAAK,EAAL;GAJF;AAMA,eAAa;AACX,UAAM,MAAN;AACA,cAAU,uBAAV;GAFF;AAIA,kBAAgB;AACd,UAAM,OAAN;AACA,aAAS,IAAT;GAFF;AAIA,gBAAc;AACZ,UAAM,MAAN;AACA,cAAU,4BAAV;GAFF;AAIA,gBAAc;AACZ,UAAM,OAAN;AACA,cAAU,2BAAV;GAFF;AAIA,cAAY;AACV,UAAM,MAAN;AACA,WAAO,IAAP;AACA,cAAU,0BAAV;AACA,YAAQ,IAAR;AACA,aAAS,oBAAY;AACnB,aAAO,OAAO,CAAP,EAAP,CADmB;KAAZ;GALX;AASA,iBAAe;AACb,UAAM,IAAN;AACA,aAAS,IAAT;GAFF;AAIA,aAAW;AACT,UAAM,OAAN;AACA,aAAS,KAAT;GAFF;CArCsB,CAApB;;AA2CJ,kBAAkB,MAAlB,CAAyB,cAAzB;AACA,kBAAkB,MAAlB,CAAyB,UAAzB;;AAEA,SAAS,KAAT,CAAe,aAAf,EAA8B,iBAA9B;;AAEA,IAAI,cAAc,SAAS,KAAT,CAAe,aAAf,CAAd;AACJ,UAAU,YAAV,CAAuB,WAAvB;AACA,UAAU,YAAV,CAAuB,YAAY,SAAZ,CAAvB;AACA,QAAQ,IAAR,GAAe,aAAf;AACA,QAAQ,KAAR,GAAgB,WAAhB","file":"models/hoist_invite.js","sourcesContent":["'use strict';\nvar mongoose = require('mongoose');\nvar ShortId = require('@hoist/mongoose-shortid');\nvar timestamps = require('mongoose-timestamp');\nvar BBPromise = require('bluebird');\nvar Schema = mongoose.Schema;\nvar mongooseDelete = require('@hoist/mongoose-delete');\nvar keygen = require('keygenerator');\n\nvar HoistInviteSchema = new Schema({\n  schemaVersion: String,\n  _id: {\n    type: ShortId,\n    base: 64,\n    retries: 4,\n    len: 20\n  },\n  displayName: {\n    type: String,\n    required: 'Must have a user name'\n  },\n  existingUserId: {\n    type: ShortId,\n    default: null\n  },\n  emailAddress: {\n    type: String,\n    required: 'Must have an email address'\n  },\n  organisation: {\n    type: ShortId,\n    required: 'Must have an organisation'\n  },\n  inviteCode: {\n    type: String,\n    index: true,\n    required: 'Must have an invite code',\n    unique: true,\n    default: function () {\n      return keygen._();\n    }\n  },\n  activatedDate: {\n    type: Date,\n    default: null\n  },\n  activated: {\n    type: Boolean,\n    default: false\n  }\n});\n\nHoistInviteSchema.plugin(mongooseDelete);\nHoistInviteSchema.plugin(timestamps);\n\nmongoose.model('HoistInvite', HoistInviteSchema);\n\nvar HoistInvite = mongoose.model('HoistInvite');\nBBPromise.promisifyAll(HoistInvite);\nBBPromise.promisifyAll(HoistInvite.prototype);\nexports.name = 'HoistInvite';\nexports.model = HoistInvite;\n"],"sourceRoot":"/source/"}