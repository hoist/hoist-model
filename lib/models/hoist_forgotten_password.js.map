{"version":3,"sources":["models/hoist_forgotten_password.js"],"names":[],"mappings":"AAAA;;AACA,IAAI,WAAW,QAAQ,UAAR,CAAX;AACJ,IAAI,UAAU,QAAQ,yBAAR,CAAV;AACJ,IAAI,aAAa,QAAQ,oBAAR,CAAb;AACJ,IAAI,YAAY,QAAQ,UAAR,CAAZ;AACJ,IAAI,SAAS,SAAS,MAAT;AACb,IAAI,iBAAiB,QAAQ,wBAAR,CAAjB;AACJ,IAAI,SAAS,QAAQ,cAAR,CAAT;;AAEJ,IAAI,+BAA+B,IAAI,MAAJ,CAAW;AAC5C,iBAAe,MAAf;AACA,OAAK;AACH,UAAM,OAAN;AACA,UAAM,EAAN;AACA,aAAS,CAAT;AACA,SAAK,EAAL;GAJF;AAMA,QAAM;AACJ,UAAM,OAAN;AACA,SAAK,WAAL;AACA,cAAU,6BAAV;GAHF;AAKA,kBAAgB;AACd,UAAM,MAAN;AACA,WAAO,IAAP;AACA,cAAU,8BAAV;AACA,YAAQ,IAAR;AACA,aAAS,oBAAY;AACnB,aAAO,OAAO,CAAP,EAAP,CADmB;KAAZ;GALX;AASA,iBAAe;AACb,UAAM,IAAN;AACA,aAAS,IAAT;GAFF;AAIA,aAAW;AACT,UAAM,OAAN;AACA,aAAS,KAAT;GAFF;CA1BiC,CAA/B;;AAgCJ,6BAA6B,MAA7B,CAAoC,cAApC;AACA,6BAA6B,MAA7B,CAAoC,UAApC;;AAEA,SAAS,KAAT,CAAe,wBAAf,EAAyC,4BAAzC;;AAEA,IAAI,yBAAyB,SAAS,KAAT,CAAe,wBAAf,CAAzB;AACJ,UAAU,YAAV,CAAuB,sBAAvB;AACA,UAAU,YAAV,CAAuB,uBAAuB,SAAvB,CAAvB;AACA,QAAQ,IAAR,GAAe,wBAAf;AACA,QAAQ,KAAR,GAAgB,sBAAhB","file":"models/hoist_forgotten_password.js","sourcesContent":["'use strict';\nvar mongoose = require('mongoose');\nvar ShortId = require('@hoist/mongoose-shortid');\nvar timestamps = require('mongoose-timestamp');\nvar BBPromise = require('bluebird');\nvar Schema = mongoose.Schema;\nvar mongooseDelete = require('@hoist/mongoose-delete');\nvar keygen = require('keygenerator');\n\nvar HoistForgottenPasswordSchema = new Schema({\n  schemaVersion: String,\n  _id: {\n    type: ShortId,\n    base: 64,\n    retries: 4,\n    len: 20\n  },\n  user: {\n    type: ShortId,\n    ref: 'HoistUser',\n    required: 'Must belong to a Hoist User'\n  },\n  activationCode: {\n    type: String,\n    index: true,\n    required: 'Must have an activation code',\n    unique: true,\n    default: function () {\n      return keygen._();\n    }\n  },\n  activatedDate: {\n    type: Date,\n    default: null\n  },\n  activated: {\n    type: Boolean,\n    default: false\n  }\n});\n\nHoistForgottenPasswordSchema.plugin(mongooseDelete);\nHoistForgottenPasswordSchema.plugin(timestamps);\n\nmongoose.model('HoistForgottenPassword', HoistForgottenPasswordSchema);\n\nvar HoistForgottenPassword = mongoose.model('HoistForgottenPassword');\nBBPromise.promisifyAll(HoistForgottenPassword);\nBBPromise.promisifyAll(HoistForgottenPassword.prototype);\nexports.name = 'HoistForgottenPassword';\nexports.model = HoistForgottenPassword;\n"],"sourceRoot":"/source/"}